---
title: 代理和反向代理
date: 2024-08-23 13:13:12 +0800
categories: [nginx]
tags: [nginx]     # TAG names should always be lowercase
typora-root-url: ../../chp0304.github.io/assets/pictures
math: true
---

## 代理（Proxy）

代理服务器是一个中间服务器，它位于客户端和目标服务器之间，代表客户端向目标服务器发送请求，并将目标服务器的响应返回给客户端。代理服务器的主要功能包括：

1. **隐私保护**：代理服务器可以隐藏客户端的真实 IP 地址，从而保护用户隐私。
2. **访问控制**：代理服务器可以限制用户访问某些网站或资源。
3. **缓存**：代理服务器可以缓存常用资源，从而加快访问速度并减少带宽消耗。
4. **内容过滤**：代理服务器可以过滤不良内容或广告。

假设你在浏览器中访问一个网站，浏览器的请求首先发送到代理服务器，代理服务器再将请求转发给目标网站。目标网站的响应返回给代理服务器，代理服务器再将响应转发给浏览器。

## 反向代理（Reverse Proxy）

反向代理服务器也是一个中间服务器，但它位于目标服务器和客户端之间，代表目标服务器接收客户端的请求，并将请求转发给目标服务器。反向代理服务器的主要功能包括：

1. **负载均衡**：反向代理服务器可以将客户端的请求分发到多个后端服务器，从而实现负载均衡。
2. **安全性**：反向代理服务器可以隐藏后端服务器的真实 IP 地址，从而提高安全性。
3. **SSL 终止**：反向代理服务器可以处理 SSL 加密，从而减轻后端服务器的负担。
4. **缓存**：反向代理服务器可以缓存后端服务器的响应，从而加快响应速度并减少后端服务器的负载。

假设你在浏览器中访问一个网站，浏览器的请求首先发送到反向代理服务器，反向代理服务器再将请求转发给后端服务器。后端服务器的响应返回给反向代理服务器，反向代理服务器再将响应转发给浏览器。

```
复制Client <--> Reverse Proxy <--> Backend Server
```

### 代理和反向代理的区别

1. **方向**：
   - 代理：代理服务器代表客户端向目标服务器发送请求。
   - 反向代理：反向代理服务器代表目标服务器接收客户端的请求。
2. **用途**：
   - 代理：主要用于客户端的隐私保护、访问控制、内容过滤和缓存。
   - 反向代理：主要用于负载均衡、安全性、SSL 终止和缓存。
